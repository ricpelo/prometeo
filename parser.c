
# line 2 "parser.y"
#include <stdio.h>
#include <conio.h>
#include <string.h>
#include <stdlib.h>
#include <alloc.h>
#include "Lexico.H"
#include "T_Mens.H"
#include "Sistema.H"
#include "Vocab.H"
#include "T_Objeto.H"
#include "Local.H"
#include "Etiq.H"
#include "T_Resp.H"
#include "Codigo.H"
#include "T_Subr.H"
#include "yydisp.h"

int eval;
int siguiente;
char *cadena;               /* Lleva la £ltima palabra para los sin¢nimos */
int yyparse(void);
int yylex(void);
void Error(char *);
void AsignaEti(int etiq, int inc);
void AsignaCod(char cod, int inc);
void AsignaArg(int arg, int inc);
void AsignaSig(char sig, int inc);

# line 31 "parser.y"
typedef union  {
	int valor;
	unsigned long linea;
	char *lex;
	TIPO_PALABRA tipoPal;
	TIPO_OBJETO tipoObj;
	CONEXION *conex;
} YYSTYPE;
#define YYSUNION /* %union occurred */
#define MENSAJES 257
#define NUM 258
#define ID 259
#define CADENA 260
#define VOCABULARIO 261
#define VERBO 262
#define ADVERBIO 263
#define NOMBRE 264
#define ADJETIVO 265
#define PREPOSICION 266
#define CONJUNCION 267
#define PRONOMBRE 268
#define OBJETOS 269
#define DESC 270
#define CONTENEDOR 271
#define ROPA 272
#define VERBO1 273
#define ADVERBIO1 274
#define NOMBRE1 275
#define ADJETIVO1 276
#define VERB1 277
#define NOMB1 278
#define PREPOSICION1 279
#define CONJUNCION1 280
#define PRONOMBRE1 281
#define PESO 282
#define LOCALIDADES 283
#define INICIAL 284
#define IMAGEN 285
#define IMAGEN_CICLO 286
#define BANDERA 287
#define ASIGNA 288
#define MAY 289
#define MEN 290
#define MAI 291
#define MEI 292
#define EQU 293
#define NEQ 294
#define LLAMA 295
#define SUBRUTINA 296
#define RETORNO 297
#define MIENTRAS 298
#define NOT 299
#define AND 300
#define OR 301
#define TRUE 302
#define FALSE 303
#define SI 304
#define SINO 305
#define ENTONCES 306
#define SISTEMA 307
#define ESTA 308
#define ESTAMAY 309
#define ESTAMEN 310
#define PRESENTE 311
#define PUESTO1 312
#define ENCIMA1 313
#define LLEVADO1 314
#define ESTAEN 315
#define ADJET1 316
#define ADVERB 317
#define PREPOS 318
#define NOMB2 319
#define ADJET2 320
#define ACABAR1 321
#define COGER 322
#define DEJAR 323
#define PONER 324
#define QUITAR 325
#define CREAR 326
#define DESTRUIR 327
#define ACABAR 328
#define TURNOS 329
#define HECHO 330
#define COLOCAR 331
#define INTERCAMBIAR 332
#define METER 333
#define SACAR 334
#define AUTOC 335
#define AUTOD 336
#define AUTOP 337
#define AUTOQ 338
#define AUTOM 339
#define AUTOS 340
#define LISTAOBJ 341
#define LISTADE 342
#define INVEN 343
#define MENSIS 344
#define LLEVADO2 345
#define NO_CREADO1 346
#define TECLA 347
#define PAUSA 348
#define AUSENTE 349
#define DESCRIBE 350
#define MUEVE 351
#define LOCAL 352
#define NO_HECHO 353
#define DIAG 354
#define IMPRIME 355
#define ANALIZA 356
#define OBJETO 357
#define SALVAR 358
#define CARGAR 359
#define BORRAR 360
#define ALEATORIO 361
#define SALIDAS 362
#define PRIMERO 363
#define SIGUIENTE 364
#define CONTENEDOR1 365
#define ROPA1 366
#define CURSOR 367
#define POSX 368
#define POSY 369
#define SALTOLINEA 370
#define SONIDO 371
#define EVALUAR 372
#define CASO 373
#define DEFECTO 374
#define SILENCIO 375
#define SONIDO_CICLO 376
#define CAMINAR 377
#define VENTANA 378
#define COLOR 379
#define FONDO 380
#define LISTACONT 381
#define NOMBRE_VERBO 382
#define NOMBRE_VERBO1 383
#define DIRECCION 384
#define DIRECCION1 385
#define DIRECC1 386
#define FUENTE 387
#define MENOSU 388
YYSTYPE yylval, yyval;
#define YYERRCODE 256

# line 869 "parser.y"


void yyerror(int err, int tok)
{
	static int aux = 0;

	if (err == -1)
		if (tok != -1) {
			if (aux == 0) {
				numErrores++;
				printf("(%d) ERROR EN LINEA %u:\n", numErrores, numLinea);
				printf("Se encontr¢: %s\n", yydisplay(token, 1));
				printf("y se esperaba: ");
				aux = 1;
			} else {
				if (strlen(yydisplay(tok, 0)) + wherex() >= 80)
					printf("\n%s  ", yydisplay(tok, 0));
				else
					printf("%s  ", yydisplay(tok, 0));
			}
		} else {
			printf("\nPulse una tecla seguir...");
			getch();
			printf("\n\n");
			aux = 0;
		}

}


int gen_etiq(void)
{
	static int e = 1;
	if (e >= 32767)
		Error("No se pueden asignar m s etiquetas internas");
	return e++;
}


int gen_mens(void)
{
	static int m = 0;
	if (m >= 32767)
		Error("No se pueden reservar m s cadenas");
	return m++;
}

void AsignaEti(int etiq, int inc)
{
	codigo[despl].etiqueta = etiq;
	despl = (inc == 1) ? despl + 1 : despl;
	if (despl >= TAM_CODIGO)
		Error("No hay memoria para generar m s c¢digo");
}

void AsignaCod(char cod, int inc)
{
	codigo[despl].codop = cod;
	despl = (inc == 1) ? despl + 1 : despl;
	if (despl >= TAM_CODIGO)
		Error("No hay memoria para generar m s c¢digo");
}

void AsignaArg(int arg, int inc)
{
	codigo[despl].argumento = arg;
	despl = (inc == 1) ? despl + 1 : despl;
	if (despl >= TAM_CODIGO)
		Error("No hay memoria para generar m s c¢digo");
}

void AsignaSig(char sig, int inc)
{
	codigo[despl].signif = sig;
	despl = (inc == 1) ? despl + 1 : despl;
	if (despl >= TAM_CODIGO)
		Error("No hay memoria para generar m s c¢digo");
}
FILE *yytfilep;
char *yytfilen;
int yytflag = 0;
int svdprd[2];
char svdnams[2][2];

int yyexca[] = {
  -1, 1,
  0, -1,
  -2, 0,
  0,
};

#define YYNPROD 310
#define YYLAST 1797

int yyact[] = {
     495,     551,     618,     496,     473,     471,     273,     627,
     513,     517,     377,     614,     562,      51,     381,      76,
      49,      76,      50,     630,     629,     284,      53,      54,
      55,      56,      57,      58,      59,     613,     236,     278,
      90,      49,      84,      51,     274,     285,     286,      53,
      54,      55,      56,      57,      58,      59,     477,     479,
     282,     522,     283,     375,     524,     205,     520,      91,
      30,      20,     523,     521,     280,     268,     234,     285,
     286,     267,     295,     235,     387,     379,     224,     223,
     222,     385,     383,     552,     384,      39,     386,     371,
      38,     340,      87,      76,      94,      92,      76,     610,
     609,     387,     608,     561,     376,     398,     385,     383,
      30,     384,     387,     386,      69,     380,     378,     385,
      66,      84,     433,      93,     386,      31,      21,     606,
      76,     619,     474,     281,     475,     518,     514,     519,
     515,      52,     374,     372,     215,     213,      73,      71,
     397,     181,     181,      63,      74,      62,      35,      34,
      33,      84,     181,      32,     181,      86,      60,      52,
      61,      47,      49,      46,     636,      31,     557,      45,
      53,      54,      55,      56,      57,      58,      59,      60,
     181,      61,      44,     556,     555,     212,     209,      51,
      89,     181,     554,     206,     398,     431,      77,      79,
      81,      24,     226,     214,     430,     216,     429,     428,
     427,     426,     425,     424,     423,      82,      80,     422,
      76,      78,     421,     420,     419,     207,     208,     387,
     210,     211,      72,      75,     385,     383,     418,     384,
     417,     386,     230,     416,     415,     414,      82,      80,
      69,      78,     413,      66,     640,     412,     411,     410,
     409,     408,     225,      75,     407,     406,     221,     278,
     404,     290,     289,     337,     338,     339,     265,     341,
     342,     343,     344,     345,     346,     347,     348,     349,
     350,     351,     352,     353,     354,     355,     356,     357,
     358,     359,     264,     263,     280,     262,     261,     365,
     366,     367,     260,     259,     258,     257,      37,      23,
      60,     181,      61,      52,      11,     256,     255,     254,
     181,     181,     181,     181,      13,     275,     253,     433,
      17,      27,     382,     226,     399,     401,     402,     252,
     251,     181,      12,     226,     405,     226,     228,     250,
     249,     248,     247,     246,     433,     245,     244,      16,
     243,      26,     242,     226,     241,     433,     240,     239,
     238,     269,      14,     271,     360,     361,     362,     363,
     364,      27,     403,     237,     368,     233,     232,      25,
     181,     432,     181,     266,     287,     390,     391,     392,
     393,     394,     395,     270,      42,     272,     642,      36,
     388,     389,     226,       3,     226,     628,      22,     592,
     336,     387,     623,     288,     231,     294,     385,     383,
     590,     384,      43,     386,     154,     153,     152,     151,
     150,     149,     148,     147,     146,     145,      41,      67,
     482,     483,     484,     485,     486,     487,     488,     489,
     490,     491,     492,     493,     494,      28,      18,      29,
      19,     497,     369,      40,     370,     501,      68,     503,
     504,     505,     506,     507,     508,     509,     510,     511,
      65,     144,     433,     143,     142,     141,     140,     525,
     526,     527,     528,     529,     530,     531,     139,     138,
     534,     137,     136,     135,      64,      28,     134,      29,
     133,     132,     537,     538,     539,     540,     541,     542,
     543,     544,     131,     390,     391,     392,     393,     394,
     395,     130,     545,     546,     129,     128,     388,     389,
     127,     547,     548,     126,     125,     434,     435,     436,
     437,     438,     439,     440,     549,     124,     123,     122,
     449,     450,     451,     452,     453,     454,     455,     456,
     559,     459,     460,     461,     462,     463,     563,     466,
     467,     468,     558,     121,     560,     120,     119,     118,
     117,     116,     115,     114,     113,     387,     112,     481,
     111,     110,     385,     383,     574,     384,     109,     386,
     108,     107,     106,     100,      99,      98,      97,      96,
     498,     500,      95,      70,     478,     502,     476,     277,
     621,     620,     550,     470,     469,     220,      88,      10,
       9,       8,       7,       6,       5,       2,       1,     472,
     373,      48,     512,     516,      15,       0,     532,     533,
     607,     536,       0,     181,     181,       0,       0,     615,
       0,       0,       0,       0,       0,       0,       0,     616,
       0,     102,       0,      76,     433,     564,     565,       0,
       0,       0,       0,       0,       0,       0,       0,     617,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,     553,       0,       0,       0,
       0,       0,       0,       0,       0,     390,     391,     392,
     393,     394,     395,       0,       0,       0,     631,     633,
     388,     389,       0,     632,       0,     181,     181,     637,
     567,     568,     569,     570,     571,     572,     573,     638,
     575,     576,       0,       0,       0,     577,       0,     611,
     612,     578,     579,     580,     581,     582,     583,     584,
     585,     586,     587,     588,     589,       0,       0,       0,
       0,       0,     593,     594,     595,     596,     597,     598,
     599,     600,     601,     602,     603,     604,       0,       0,
     181,       0,     102,     605,       0,       0,       0,       0,
       0,       0,     181,       0,       0,       0,       0,       0,
     387,       0,     622,       0,     398,     385,     383,     181,
     384,       0,     386,       0,     634,     181,     101,       0,
       0,       0,     205,       0,       0,       0,       0,       0,
       0,     639,       0,       0,     387,       0,       0,     643,
     433,     385,     383,       0,     384,       0,     386,       0,
       0,       0,       0,     195,     196,     204,       0,       0,
     624,     625,     626,       0,       0,     155,       0,     156,
     103,       0,     291,       0,       0,     293,     104,     292,
     635,     390,     391,     392,     393,     394,     395,       0,
       0,       0,       0,     641,     388,     389,       0,       0,
     157,     158,     159,     160,     161,     162,     163,     164,
     165,     167,     168,     169,     170,     171,     172,     173,
     174,     175,     176,     177,     178,     180,     182,       0,
       0,     183,     184,       0,     185,     186,       0,     166,
     187,     188,       0,       0,     189,     190,     191,     101,
     192,       0,       0,     205,       0,     193,       0,       0,
     194,     197,     105,      20,       0,     199,     198,       0,
     200,     201,     202,     179,       0,     591,       0,       0,
       0,     203,       0,       0,     195,     196,     204,       0,
       0,       0,       0,       0,       0,       0,     155,       0,
     156,     103,       0,       0,       0,       0,       0,     104,
       0,       0,       0,       0,     291,     398,       0,     293,
       0,     292,       0,       0,       0,       0,       0,       0,
      21,     157,     158,     159,     160,     161,     162,     163,
     164,     165,     167,     168,     169,     170,     171,     172,
     173,     174,     175,     176,     177,     178,     180,     182,
       0,       0,     183,     184,       0,     185,     186,       0,
     166,     187,     188,     535,       0,     189,     190,     191,
       0,     192,       0,       0,       0,       0,     193,       0,
       0,     194,     197,     105,       0,       0,     199,     198,
       0,     200,     201,     202,     179,       0,       0,     433,
       0,       0,     203,       0,     390,     391,     392,     393,
     394,     395,       0,       0,       0,       0,       0,     388,
     389,       0,       0,       0,       0,       0,       0,       0,
       0,       0,     334,       0,     296,       0,     205,       0,
     390,     391,     392,     393,     394,     395,       0,     291,
       0,       0,     293,     319,     292,     297,       0,     312,
     313,       0,       0,       0,     327,       0,       0,       0,
       0,     335,       0,       0,       0,       0,     279,       0,
       0,       0,       0,       0,       0,     299,       0,       0,
       0,       0,       0,       0,       0,       0,     303,     304,
     305,     306,     308,     301,     309,     310,     314,     315,
     316,     317,     318,     322,       0,       0,       0,       0,
       0,       4,       0,       0,       0,       0,      11,       0,
       0,       0,       0,       0,      83,      85,      13,       0,
       0,       0,      17,     302,     300,       0,       0,     307,
       0,       0,     311,       0,      12,       0,     323,     298,
       0,       0,       0,     324,       0,     325,     326,     328,
     330,      16,     331,     332,     334,     217,     296,     218,
     205,       0,       0,     333,      14,     219,       0,       0,
       0,     320,       0,     321,     329,     319,       0,     297,
       0,     312,     313,     227,     229,       0,     327,       0,
       0,       0,     291,     335,       0,     293,       0,     292,
       0,       0,       0,       0,       0,       0,       0,     299,
       0,       0,       0,       0,       0,       0,       0,       0,
     303,     304,     305,     306,     308,     301,     309,     310,
     314,     315,     316,     317,     318,     322,     387,       0,
       0,       0,       0,     385,     383,     566,     384,       0,
     386,       0,       0,       0,       0,       0,       0,       0,
      18,       0,      19,       0,       0,     302,     300,       0,
       0,     307,       0,       0,     311,       0,       0,       0,
     323,     298,       0,       0,       0,     324,       0,     325,
     326,     328,     330,       0,     331,     332,       0,     334,
       0,     296,       0,     205,       0,     333,       0,       0,
       0,       0,       0,     320,       0,     321,     329,       0,
     319,       0,     297,       0,     312,     313,       0,       0,
       0,     327,       0,     387,     276,       0,     335,     398,
     385,     383,       0,     384,       0,     386,       0,       0,
       0,       0,     299,       0,       0,       0,       0,       0,
       0,       0,       0,     303,     304,     305,     306,     308,
     301,     309,     310,     314,     315,     316,     317,     318,
     322,       0,     387,       0,       0,       0,     398,     385,
     383,       0,     384,       0,     386,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
     302,     300,       0,       0,     307,       0,       0,     311,
       0,       0,       0,     323,     298,       0,       0,       0,
     324,       0,     325,     326,     328,     330,       0,     331,
     332,       0,       0,       0,       0,     387,       0,       0,
     333,       0,     385,     383,     465,     384,     320,     386,
     321,     329,     400,     387,     296,       0,     205,       0,
     385,     383,     458,     384,       0,     386,       0,       0,
       0,       0,       0,     319,       0,     297,       0,     312,
     313,       0,       0,       0,     327,     387,       0,       0,
       0,     335,     385,     383,     448,     384,       0,     386,
       0,     433,     387,       0,       0,     299,       0,     385,
     383,     446,     384,       0,     386,       0,     303,     304,
     305,     306,     308,     301,     309,     310,     314,     315,
     316,     317,     318,     322,       0,       0,       0,       0,
       0,       0,     390,     391,     392,     393,     394,     395,
       0,       0,       0,       0,       0,     388,     389,       0,
       0,       0,       0,     302,     300,       0,       0,     307,
       0,       0,     311,       0,       0,       0,     323,     298,
       0,       0,       0,     324,       0,     325,     326,     328,
     330,       0,     331,     332,       0,       0,     499,       0,
     387,       0,       0,     333,       0,     385,     383,     444,
     384,     320,     386,     321,     329,     387,       0,       0,
       0,       0,     385,     383,     442,     384,       0,     386,
       0,       0,       0,       0,       0,       0,       0,     390,
     391,     392,     393,     394,     395,     480,       0,       0,
     387,       0,     388,     389,     398,     385,     383,       0,
     384,       0,     386,       0,       0,     387,       0,       0,
       0,       0,     385,     383,       0,     384,       0,     386,
       0,       0,       0,       0,       0,       0,     390,     391,
     392,     393,     394,     395,       0,       0,       0,     387,
       0,     388,     389,       0,     385,     383,       0,     384,
     464,     386,       0,       0,       0,     387,       0,       0,
       0,       0,     385,     383,       0,     384,     457,     386,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,     390,     391,     392,     393,     394,     395,       0,
     447,       0,       0,       0,     388,     389,       0,     390,
     391,     392,     393,     394,     395,     445,       0,       0,
       0,       0,     388,     389,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,     390,     391,     392,     393,     394,     395,       0,
       0,       0,       0,       0,     388,     389,     390,     391,
     392,     393,     394,     395,       0,       0,       0,       0,
       0,     388,     389,       0,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,     443,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
     441,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,     390,     391,     392,     393,
     394,     395,       0,     396,       0,       0,       0,     388,
     389,     390,     391,     392,     393,     394,     395,       0,
     433,       0,       0,       0,     388,     389,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,     390,     391,     392,     393,
     394,     395,     433,       0,       0,       0,       0,     388,
     389,     390,     391,     392,     393,     394,     395,       0,
     433,       0,       0,       0,     388,     389,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,     390,     391,     392,     393,     394,
     395,       0,       0,       0,       0,       0,     388,       0,
       0,     390,     391,     392,     393,
};

int yypact[] = {
     785,   -1000,      15,   -1000,      54,   -1000,   -1000,   -1000,
   -1000,   -1000,   -1000,      16,      13,      12,      11,      14,
    -179,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,      54,
    -240,      10,       8,   -1000,   -1000,   -1000,   -1000,   -1000,
    -223,    -154,    -262,    -158,   -1000,       4,   -1000,       3,
    -110,     -39,    -108,     -42,   -1000,      78,      78,   -1000,
    -177,   -1000,     110,    -221,    -221,   -1000,   -1000,   -1000,
   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,     559,     559,
    -110,     -39,     108,    -108,     -42,     107,       2,     559,
       1,     559,   -1000,   -1000,   -1000,   -1000,      78,   -1000,
      78,   -1000,   -1000,   -1000,   -1000,   -1000,      78,   -1000,
    -177,    -188,    -189,   -1000,    -190,     454,   -1000,   -1000,
   -1000,   -1000,   -1000,   -1000,      46,      78,     559,   -1000,
     294,     293,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,
   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,
   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,
   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,
   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,
   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,
   -1000,   -1000,    -226,     291,   -1000,     280,     279,     278,
     276,     274,     272,   -1000,   -1000,   -1000,   -1000,     270,
     269,     267,     266,   -1000,   -1000,   -1000,   -1000,     265,
     264,   -1000,     263,     256,   -1000,   -1000,     255,   -1000,
     246,   -1000,     239,   -1000,     238,   -1000,   -1000,   -1000,
   -1000,     237,   -1000,     229,     228,     227,     226,     222,
     221,     219,     218,     198,   -1000,   -1000,     454,   -1000,
   -1000,    -195,   -1000,   -1000,    -199,     559,     454,     559,
     454,   -1000,   -1000,   -1000,      -8,      78,     -25,    -234,
    -234,   -1000,   -1000,   -1000,   -1000,   -1000,     454,     194,
     943,   -1000,     943,     943,     943,    -178,     943,     943,
     943,     943,     943,     943,     943,     943,     943,     943,
     943,     943,     943,     943,     943,     943,     943,     943,
     943,    -207,    -207,    -207,    -207,    -207,     943,     943,
     943,    -207,   -1000,    -225,      78,     454,   -1000,     454,
   -1000,   -1000,    -180,       0,   -1000,      -1,   -1000,   -1000,
    -209,   -1000,    -166,    -244,   -1000,   -1000,   -1000,   -1000,
   -1000,     943,    1451,    1074,     943,     943,   -1000,   -1000,
   -1000,    -221,     192,     943,   -1000,   -1000,   -1000,     189,
     188,     185,     184,     183,     182,     181,     178,     173,
     172,     171,     168,     166,     156,     155,     154,   -1000,
   -1000,   -1000,   -1000,   -1000,     151,     148,     147,     146,
     145,     144,     143,     142,     140,     133,   -1000,   -1000,
     943,    1464,    1464,    1464,     131,      52,      52,      52,
      52,      52,      52,    1424,    1411,    1333,    1320,      52,
      52,      52,      52,      52,      52,      52,      52,    1294,
     131,     131,     131,     131,     131,    1280,      52,      52,
     131,   -1000,   -1000,   -1000,   -1000,   -1000,    -269,   -1000,
    -238,    -235,   -1000,   -1000,   -1000,   -1000,    1229,     943,
     943,     943,     943,     943,     943,     943,     943,     943,
     943,     943,     943,     943,     943,   -1000,   -1000,    1190,
     131,    -150,    -150,   -1000,     828,    -150,     943,     943,
     943,     943,     943,     943,     943,     943,     943,    -265,
    -266,    -222,    -215,    -230,    -217,    -224,     943,     943,
     943,     943,     943,     943,     943,     131,     131,     943,
     659,     943,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,
   -1000,     943,     943,     943,     943,     943,     943,     943,
     943,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,
   -1000,     943,     943,   -1000,   -1000,   -1000,   -1000,   -1000,
     943,     943,   -1000,   -1000,   -1000,      -8,    -184,     -13,
     126,     106,     105,      92,    -208,    -244,    -208,    -167,
     943,   -1000,      61,      61,    -150,    -150,    -150,     687,
    1490,      31,      31,      31,      31,    1504,    1504,    1464,
     559,     559,   -1000,     943,   -1000,    1113,   -1000,      52,
      52,      52,      52,      52,      52,      52,     472,      52,
     131,   -1000,   -1000,   -1000,     131,   -1000,   -1000,   -1000,
     131,     131,     131,     131,     131,      52,      52,      52,
      52,      52,      52,      52,   -1000,   -1000,     324,     714,
   -1000,      52,      52,      52,      52,      52,      52,      52,
      52,      52,      52,      52,      52,   -1000,      67,   -1000,
   -1000,   -1000,    -269,    -168,    -170,    -171,   -1000,   -1000,
   -1000,   -1000,     559,     559,    -276,    -294,     943,   -1000,
   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,     943,   -1000,
   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,
   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,     943,   -1000,
     -10,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,
   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,   -1000,
   -1000,   -1000,   -1000,   -1000,   -1000,     559,   -1000,      52,
      52,      52,    -354,   -1000,      -8,    -184,   -1000,     559,
   -1000,   -1000,   -1000,     -13,   -1000,      90,     943,    -354,
   -1000,   -1000,   -1000,   -1000,     559,     162,     -13,   -1000,
   -1000,   -1000,     559,   -1000,
};

int yypgo[] = {
       0,     556,     335,      32,     555,     554,     553,      21,
     552,       5,     551,     550,     549,     355,     548,     547,
     546,     545,     544,     543,     403,     132,     162,     141,
    1006,     542,     541,       6,     540,     539,     538,     537,
     536,       1,     382,     151,     535,     348,     147,     115,
     534,      10,     532,     370,     145,     531,     107,      84,
     530,     527,     526,     525,     524,     523,     522,     521,
     520,     518,     513,     512,     510,     508,     507,     506,
     505,     504,     503,     502,     501,     499,     479,     478,
     477,     468,     467,     464,     461,     460,     457,     450,
     441,     440,     438,     435,     434,     433,     431,     430,
     422,     421,     420,     419,     417,     381,     380,     379,
     378,     377,     376,     375,     374,     373,     372,       0,
     128,     365,      66,     364,      12,       3,     362,     360,
     359,       2,       7,     357,     350,     202,
};

int yyr1[] = {
       0,      11,      12,      12,      12,      12,      13,      13,
      13,      13,      13,      13,      14,      14,      20,      20,
      22,      25,      22,       6,       6,       6,       6,       6,
       6,       6,       6,       6,      26,      23,      28,      27,
      29,      31,      27,      27,      32,      30,      30,      33,
      15,      15,      34,      34,      35,      35,      36,      36,
       8,       8,       9,       9,      10,      10,      10,      16,
      16,      37,      37,      38,      38,      39,      39,      39,
      42,      42,      40,      40,      41,      41,      41,      41,
       3,       3,       7,       7,       7,      17,      17,      43,
      43,      44,      45,      18,      18,      18,       1,       1,
       1,       1,       1,       2,       2,       2,       2,       2,
      46,      46,      47,      47,      47,      47,      47,      47,
      47,      47,      53,      53,      53,      53,      53,      53,
      53,      53,      53,      53,      53,      53,      53,      53,
      53,      53,      53,      53,      53,      53,      53,      53,
      53,      53,      53,      53,      53,      53,      53,      53,
      53,      53,      53,      53,      53,      53,      53,      53,
      53,      53,      53,      53,      53,      53,      53,      53,
      53,      53,      48,      54,      54,      54,     102,      55,
     103,     103,     103,     103,     103,     103,     103,     103,
     103,     103,     103,     103,     103,     103,     103,     103,
     103,     103,     103,     103,     103,     103,     103,     103,
     103,     103,     103,     103,     103,     103,     103,     103,
     103,     103,     103,     103,     103,     103,     103,     103,
     103,     103,     103,     103,     103,     103,     103,     103,
     103,     103,     103,     103,     103,     103,     103,     103,
     103,     103,     103,     103,     103,       5,       5,       5,
       4,       4,       4,     105,      56,      49,      49,     107,
     108,      50,      50,     110,      51,      51,     109,     112,
      52,      52,     111,     113,     113,     116,     115,     114,
     114,      57,      58,      59,      60,      61,      62,      63,
      64,      65,      66,      67,      67,      68,      68,      69,
      69,      70,      70,      71,      72,      73,      74,      75,
      76,      77,      78,      79,      80,      81,     106,      82,
      88,      87,      83,      84,      85,      86,      89,      90,
      91,      92,      93,      93,      94,      95,      95,      96,
      96,      97,      98,      98,      99,     100,     101,     117,
      19,      19,      19,     104,      21,      24,
};

int yyr2[] = {
       0,       1,       2,       1,       2,       1,       1,       1,
       1,       1,       1,       1,       4,       4,       2,       1,
       3,       0,       4,       1,       1,       1,       1,       1,
       1,       1,       1,       1,       0,       3,       0,       4,
       0,       0,       7,       0,       0,       4,       1,       1,
       4,       4,       3,       2,       5,       4,       2,       0,
       3,       0,       3,       1,       3,       3,       3,       4,
       4,       3,       2,       4,       4,       4,       4,       1,
       2,       0,       2,       0,       1,       1,       1,       1,
       1,       0,       1,       1,       0,       4,       4,       2,
       1,       4,       0,       6,       5,       5,       1,       1,
       1,       1,       1,       1,       1,       1,       1,       1,
       2,       1,       1,       1,       1,       1,       1,       2,
       2,       2,       1,       1,       1,       1,       1,       1,
       1,       1,       1,       1,       1,       1,       1,       1,
       1,       1,       1,       1,       1,       1,       1,       1,
       1,       1,       1,       1,       1,       1,       1,       1,
       1,       1,       1,       1,       1,       1,       1,       1,
       1,       1,       1,       1,       1,       1,       1,       1,
       1,       1,       3,       3,       3,       3,       1,       4,
       3,       3,       3,       3,       3,       3,       2,       2,
       1,       1,       1,       2,       6,       3,       2,       3,
       3,       3,       3,       3,       3,       3,       3,       1,
       1,       1,       4,       4,       4,       4,       4,       4,
       4,       6,       4,       4,       4,       4,       4,       4,
       4,       4,       1,       1,       1,       1,       1,       4,
       4,       4,       4,       4,       4,       4,       3,       3,
       6,       3,       3,       3,       1,       1,       1,       1,
       1,       1,       1,       1,       1,       7,       7,       0,
       0,       6,       6,       0,       9,       8,       0,       0,
      10,       9,       0,       2,       0,       0,       5,       3,
       0,       4,       4,       4,       4,       4,       4,       1,
       1,       1,       1,       6,       6,       6,       6,       6,
       6,       6,       6,       1,       1,       1,       1,       4,
       4,       1,       4,       4,       1,       1,       1,       4,
       4,       1,       1,       4,       1,       4,       1,       1,
       1,       1,       6,       6,       1,       4,       4,       4,
       4,       4,       6,       6,       4,       4,       4,       0,
       6,       5,       5,       1,       1,       1,
};

int yychk[] = {
   -1000,     -11,     -12,     -13,     256,     -14,     -15,     -16,
     -17,     -18,     -19,     261,     283,     269,     307,      -1,
     296,     273,     383,     385,      42,      95,     -13,     256,
     123,      -2,     259,     275,     383,     385,      42,      95,
     123,     123,     123,     123,      -2,     256,     259,     256,
     -20,     -34,     -37,     -43,     -22,     -35,     -38,     -44,
      -6,     256,     258,     275,     383,     262,     263,     264,
     265,     266,     267,     268,     382,     384,     123,     123,
     -20,     -34,     258,     -37,     -43,     258,     -45,     123,
    -117,     123,     -21,     -22,     125,     -21,     -35,     -21,
     -38,     -21,     -44,     -24,      59,     -24,     -23,     259,
     -25,      58,      -3,     276,      -3,     -46,     -47,     -48,
     -49,     -50,     -51,     -52,     -53,     256,     123,     298,
     304,     372,     -54,     -55,     -56,     -57,     -58,     -59,
     -60,     -61,     -62,     -63,     -64,     -65,     -66,     -67,
     -68,     -69,     -70,     -71,     -72,     -73,     -74,     -75,
     -76,     -77,     -78,     -79,     -80,     -81,     -82,     -83,
     -84,     -85,     -86,     -87,     -88,     -89,     -90,     -91,
     -92,     -93,     -94,     -95,     -96,     -97,     -98,     -99,
    -100,    -101,    -102,     295,     297,     322,     323,     324,
     325,     326,     327,     328,     329,     330,     353,     331,
     332,     333,     334,     335,     336,     337,     338,     339,
     340,     341,     342,     381,     343,    -106,     344,     347,
     348,     350,     351,     354,     355,     358,     359,     360,
     362,     367,     370,     285,     286,     371,     376,     375,
     378,     379,     380,     387,     287,     260,     -46,     -21,
     -21,      58,     -21,     -21,      58,     123,     -46,     123,
     -46,     -24,     -24,     -24,     -26,     -23,     260,     260,
     260,     -21,     -47,     -24,     256,     -24,     -46,    -107,
      40,      40,     288,     293,     256,      40,      40,      40,
      40,      40,      40,      40,      40,      40,      40,      40,
      40,      40,      40,      40,      40,      40,      40,      40,
      40,      40,      40,      40,      40,      40,      40,      40,
      40,      40,     -21,     260,     260,     -46,     -21,     -46,
     -21,     -27,      44,     293,     -24,     -36,     256,     -24,
     285,     -39,     282,     284,      -7,     271,     272,     -39,
     -21,      40,    -103,      40,      45,      43,    -105,    -106,
     258,     275,     357,     299,     346,     313,     345,     308,
     309,     310,     311,     349,     312,     314,     315,     352,
     277,     278,     316,     317,     318,     319,     320,     273,
     383,     385,     321,     356,     361,     363,     364,     282,
     365,     386,     366,     368,     369,     377,     256,     287,
    -111,    -103,    -103,    -103,     259,    -103,    -103,    -103,
    -103,    -103,    -103,    -103,    -103,    -103,    -103,    -103,
    -103,    -103,    -103,    -103,    -103,    -103,    -103,    -103,
    -106,    -106,    -106,    -106,    -106,    -103,    -103,    -103,
    -106,     -21,     -21,     259,     123,      -8,     123,     260,
     258,     -41,     346,     313,     345,     258,    -103,      43,
      45,      42,      47,      37,     300,     301,     289,     290,
     291,     292,     293,     294,     256,    -104,      41,    -103,
     256,    -103,    -103,      -3,      40,    -103,      40,      40,
      40,      40,      40,      40,      40,      40,      40,      40,
      40,      40,      40,      40,      40,      40,      40,      40,
      40,      40,      40,      40,      40,      40,      40,      40,
    -103,     256,    -104,    -104,    -104,    -104,    -104,    -104,
    -104,     256,      44,     256,      44,     256,      44,     256,
      44,    -104,    -104,    -104,    -104,    -104,    -104,    -104,
    -104,     256,      44,    -104,    -104,    -104,    -104,    -104,
     256,      44,    -104,    -104,    -104,     -28,     -29,      -9,
     -10,     273,     383,     385,     -40,     284,     -42,     282,
     256,    -104,    -103,    -103,    -103,    -103,    -103,    -103,
    -103,    -103,    -103,    -103,    -103,    -103,    -103,    -103,
    -109,    -109,    -104,     256,    -104,    -103,    -104,    -103,
    -103,    -103,    -103,    -103,    -103,    -103,    -103,    -103,
      -5,     273,     383,     385,      -4,     275,     383,     385,
     276,     274,     279,     275,     276,    -103,    -103,    -103,
    -103,    -103,    -103,    -103,    -104,    -104,    -103,     256,
    -104,    -103,    -103,    -103,    -103,    -103,    -103,    -103,
    -103,    -103,    -103,    -103,    -103,     -27,     -30,     -33,
     259,     -21,      44,      58,      58,      58,      -7,     -41,
      -7,     258,    -108,    -108,     -47,     -47,      44,    -104,
    -104,    -104,    -104,    -104,    -104,    -104,      44,    -104,
    -104,    -104,    -104,    -104,    -104,    -104,    -104,    -104,
    -104,    -104,    -104,    -104,    -104,    -104,      44,     123,
    -112,    -104,    -104,    -104,    -104,    -104,    -104,    -104,
    -104,    -104,    -104,    -104,    -104,     -21,      44,      -9,
     258,     258,     258,     -47,     -47,     305,     305,    -103,
    -103,    -103,    -113,     123,     -31,     -32,     -47,    -110,
    -104,    -104,    -104,    -114,    -115,     374,     373,    -113,
     -27,     -33,     -47,     -21,      58,    -103,    -114,     -47,
      58,     -21,    -116,     -47,
};

int yydef[] = {
       0,      -2,       1,       3,       5,       6,       7,       8,
       9,      10,      11,       0,       0,       0,       0,       0,
       0,      86,      87,      88,      89,      90,       2,       4,
       0,       0,       0,      91,      92,      93,      94,      95,
       0,       0,       0,       0,      82,       0,     303,       0,
       0,       0,       0,       0,      15,       0,       0,      80,
       0,      17,       0,      73,      73,      19,      20,      21,
      22,      23,      24,      25,      26,      27,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,      13,      14,     308,      41,       0,      56,
       0,      78,      79,      43,     309,      58,       0,      28,
       0,       0,       0,      72,       0,       0,      97,      98,
      99,     100,     101,     102,       0,       0,       0,     231,
       0,       0,     106,     107,     108,     109,     110,     111,
     112,     113,     114,     115,     116,     117,     118,     119,
     120,     121,     122,     123,     124,     125,     126,     127,
     128,     129,     130,     131,     132,     133,     134,     135,
     136,     137,     138,     139,     140,     141,     142,     143,
     144,     145,     146,     147,     148,     149,     150,     151,
     152,     153,       0,       0,     228,       0,       0,       0,
       0,       0,       0,     255,     256,     257,     258,       0,
       0,       0,       0,     267,     268,     269,     270,       0,
       0,     273,       0,       0,     276,     277,       0,     282,
       0,     284,       0,     281,       0,     286,     287,     288,
     289,       0,     292,       0,       0,       0,       0,       0,
       0,       0,       0,       0,     158,     278,       0,      12,
      40,       0,      55,      77,       0,       0,       0,       0,
       0,      42,      57,      16,      35,       0,      47,      76,
      76,      85,      96,     103,     104,     105,       0,       0,
       0,     242,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,     306,      47,       0,       0,      84,       0,
     305,      29,       0,       0,      18,      49,      45,      81,
       0,      59,       0,       0,      63,      74,      75,      60,
     154,       0,       0,       0,       0,       0,     168,     169,
     170,      73,       0,       0,     183,     184,     185,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,     202,
     203,     204,     205,     206,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,     220,     227,
       0,     155,     156,     157,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,      83,     304,      30,      32,      44,       0,      46,
      67,      65,      68,      69,      70,      71,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,     238,     238,     307,       0,
     220,     166,     167,     171,       0,     174,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,     159,     249,     250,     251,     252,     253,
     254,       0,       0,       0,       0,       0,       0,       0,
       0,     271,     272,     274,     275,     279,     283,     285,
     280,       0,       0,     293,     294,     295,     296,     297,
       0,       0,     300,     301,     302,      35,       0,       0,
      51,       0,       0,       0,      76,       0,      76,       0,
     232,     232,     160,     161,     162,     163,     164,     175,
     176,     177,     178,     179,     180,     181,     182,     219,
       0,       0,     165,     218,     217,       0,     173,       0,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,     221,     222,     223,       0,     224,     225,     226,
       0,       0,       0,       0,       0,       0,       0,       0,
       0,       0,       0,       0,     214,     215,       0,       0,
     239,     219,       0,     219,       0,     219,       0,     219,
       0,     219,       0,     219,       0,      31,       0,      38,
      39,      48,       0,       0,       0,       0,      61,      66,
      62,      64,       0,       0,     234,     233,       0,     186,
     187,     188,     189,     190,     191,     192,       0,     194,
     195,     196,     197,     198,     199,     200,     201,     207,
     208,     209,     210,     211,     212,     213,       0,     244,
       0,     260,     259,     262,     261,     264,     263,     266,
     265,     291,     290,     299,     298,      33,      36,      50,
      52,      53,      54,     230,     229,       0,     235,       0,
       0,       0,     248,     244,      35,       0,     237,       0,
     172,     193,     216,       0,     243,       0,       0,     248,
      34,      37,     236,     241,       0,       0,       0,     247,
     245,     240,       0,     246,
};

/* pcyacc.sk
 *
 * (c) Copyright 1989, Abraxas Software, Inc.
 *
 * Modificado por Pedro Carrillo Pacheco y Rafael Corchuelo Gil
 * en Diciembre de 1.993
 *
 * Porciones (c) 1.993 Pedro Carrillo Pacheco y Rafael Corchuelo Gil
 *
 *
 * 	Este m¢dulo es un esqueleto completo para PCYACC con una gesti¢n
 * de errores sintacticos mejorada.
 *
 *	Las £nicas diferencias respecto a YACC son: 1) la definici¢n de
 * 'YYERRORDRV', 2) la macro YY_DECL, 3) la posibilidad de volcar el  rbol
 * parse a un fichero, 4) la macro YYLEX, 5) las variables yyholdtok
 * e yyholdlhs, 6) la macro YYLVAL y 7) la macro LOOKAHEAD.
 *
 *	1) YYERRORDRV.
 *
 *	'YYERRORDRV' es una macro que contiene el nombre de la rutina de error
 * a invocar cada vez que se produce un error sintactico.  Se utiliza para
 * crear el siguiente prototipo:
 *
 *	void YYERRORDRV(int err, int tok);
 *
 *	+ err es tipo de mensaje de error.
 *	  -1 significa que es un sintactico
 *	  -2 significa que la pila se ha llenado
 *	+ tok es el n£mero que identifica a uno de los tokens de la
 *	      gram tica.
 *
 *	Cuando se produce un error sint ctico, es porque el a partir del
 * estado actual no existe ninguna transici¢n con el £ltimo token le¡do.
 * Se espera un token del conjunto K = {t1, t2, ..., tn}, pero el
 * lookahead no pertenece a K.
 *
 *	En ese momento el parser llama a YYERRORDRV repetidas veces.  La
 * primera con un mensaje de error en el par metro 'msg' y en 'tok' el
 * lookahead, y las siguientes con 'msg' == 0 y 'tok' tomando los valores
 * t1, t2, ..., tn.  Tras haber realizado la llamada n£mero (n+1), se
 * vuelve a invocar con 'tok' == -1, para indicar que el conjunto K no
 * tiene m s elementos.
 *
 *	Como se puede apreciar 'tok' == -1 implica necesariamente que ya
 * no hay m s llamadas para el mismo error.
 *
 *	Por defecto el valor de 'YYERRORDRV' es 'yyerror'.
 *
 *
 *	2) YY_DECL.
 *
 *	Tambin se ha introducido la macro 'YY_DECL' que permite modificar
 * la cabecera de yyparse.  Teniendo en cuenta que al usar esta macro se
 * puede modificar el valor de retorno de 'yyparse()' tambin se proporcionan
 * las macros 'YYABORT' e 'YYACCEPT' que se invocan, respectivamente,
 * cuando la entrada contiene errores o cuando la entrada es correcta.
 *
 *
 *	3) Arbol parse
 *
 *	Se ha dotado a este reconocedor con la posibilidad de volcar el  rbol
 * parse a un fichero.  Para ello es necesario compilar el fuente PCYACC
 * con la opci¢n -t, para que genere las tablas necesarias.
 *
 *
 *	4) YYLEX()
 *
 *	Esta macro debe devolver un valor entero que identifica el siguiente
 * token en la entrada.  (Por defecto YYLEX() vale 'yylex()')
 *
 *
 *	5) yyholdtok e yyholdlhs
 *
 *	'yyholdtok' es una variable entera que permite guardar al usuario un
 * token de forma temporal.  El analizador sint ctico no da uso alguno a esta
 * variable.  Igual ocurre con 'yyholdlhs' que es del mismo tipo que la pila
 * sem ntica, y est  a disposici¢n del usuario.
 *
 *
 *	6) YYLVAL
 *
 *	Esta macro debe contener una expresi¢n que sirva de interface
 * entre el analizador lxico y el sint ctico.  (Por defecto YYLVAL
 * vale 'yylval')
 *
 *	6) LOOKAHEAD
 *
 *	Esta macro permite consultar el token de lectura adelantada actual
 * tambin conocido como Look Ahead.
 *
 */

#include <stdlib.h>
#include <string.h>

#ifdef YYDEBUG
#  define D(x) x
#else
#  define D(x) ;
#endif

#ifndef YYLEX
#  define YYLEX() yylex()
#endif

#ifndef YYLVAL
#  define YYLVAL yylval
#endif

/* YYREDMAX determina el n£mero m ximo de entradas disponibles para guardar
 * el  rbol parse.
 *
 */

#ifndef YYREDMAX
#define YYREDMAX 1000
#endif

static int redseq[YYREDMAX];  /* Array para guardar el  rbol parse */
static int redcnt = 0;

#define yyerrok		errfl = 0
#define yyclearin	if (token == 0) YYABORT; else token = -1

#define YYFLAG -1000
#define YYERROR goto yyerrlab

#ifndef YYACCEPT
#define YYACCEPT return 0
#endif

#ifndef YYABORT
#define YYABORT return 1
#endif

/* Esta macro contiene el tama¤o del stack de estados y valores */

#ifndef YYMAXDEPTH
#define YYMAXDEPTH	250
#endif

#ifndef YY_DECL
#define YY_DECL int yyparse()
#endif

#ifndef YYERRORDRV
#define YYERRORDRV yyerror
#endif

#define LOOKAHEAD (token)


static int yyholdtok;           /* Temporal a disposici¢n del usuario */
static YYSTYPE yyholdlhs;       /* Temporal a disposici¢n del usuario */
static YYSTYPE yyv[YYMAXDEPTH]; /* Stack de valores */
static int token = -1; 		/* Token de entrada */
static int errct = 0;  		/* Contador de errores */
static int errfl = 0;  		/* Flag de error */


static void create_yy_ast(void)
{
  /* Esta rutina permite volcar en un fichero el  rbol parse
   * que se ha recorrido para analizar el texto de entrada.
   * Tan solo actua esta rutina si el flag 'yytflag' vale cierto.
   * El flag, el nombre del fichero y las tablas necesarias para
   * guardar el arbol parse son generados por PCYACC
   *
   */

  if (yytflag) { /* Crear yy.ast si se ha solicitado */
    int ti, tj, colon;

    yytfilep = fopen(yytfilen, "w");
    if (yytfilep == NULL) {
      fprintf(stderr, "PCYACC: No se puede abrir: %s\n", yytfilen);
      abort();
    }
    for (ti = redcnt - 1; ti >= 0; ti--) {
      tj = svdprd[redseq[ti]];
      colon = 1;
      while (strcmp(svdnams[tj], "$EOP"))  {
	 fprintf(yytfilep,  "%s%s", svdnams[tj++], colon ? ": " : " ");
	 colon = 0;
       }
      fprintf(yytfilep,  "\n");
    }
    fclose(yytfilep);
  }
}


YY_DECL
{
     static int yys[YYMAXDEPTH]; /* Stack de estados */
     int yyj, yym;
     YYSTYPE *yypvt; /* Tope del stack de valores */
     int yystate,    /* Estado actual */
	 *yyps,      /* Tope del stack de estados */
	 yyn;        /* Informaci¢n sobre el n£mero de estados (interno) */
     YYSTYPE *yypv;  /* Stack de valores */
     int *yyxi;

     D(printf("Estado 0\n"));

     yystate = 0;
     token = -1;
     errct = 0;
     errfl = 0;
     yyps = yys - 1;
     yypv = yyv - 1;

yystack:    /* Apilar un estado y un valor en el stack */
     if (++yyps > yys + YYMAXDEPTH) {
       /* Construcci¢n sint ctica demasiado compleja */
       YYERRORDRV(-2, -1);
       YYABORT;
     }
     *yyps = yystate;
     ++yypv;
     *yypv = yyval;

yynewstate:
     yyn = yypact[yystate];

     if (yyn <= YYFLAG)
	  goto yydefault; /* Estado simple con tan s¢lo una acci¢n por defecto. */

     if (token < 0) {		/* ¨No se ha le¡do el token de lookahead */
	  if ((token = YYLEX()) < 0)
	       token = 0;
     }
     yyn += token;
     if (yyn < 0 || yyn >= YYLAST)	/* ¨No hay entrada en la tabla? */
	  goto yydefault; /* Estado simple con tan s¢lo una acci¢n por defecto. */

     if (yychk[yyn = yyact[yyn]] == token) {	/* ¨Es un shift v lido? */

	  D(printf("shift [%d] & goto %d\n", token, yyn));

	  token = -1;		/* Ya se ha le¡do el lookahead */
	  yyval = YYLVAL;
	  yystate = yyn;
	  if (errfl > 0)	/* ¨Estamos a£n en estado de error? */
	       --errfl;
	  goto yystack;
     }

yydefault:       /* Estado simple con tan s¢lo una acci¢n por defecto. */
     if ((yyn = yydef[yystate]) == -2) {
	  if (token < 0) {	/* ¨No hay lookahead? */
	       if ((token = YYLEX()) < 0)
		    token = 0;
	  }

	  /* Buscar en la tabla de excepciones */
	  for (yyxi = yyexca; *yyxi != -1 || yyxi[1] != yystate ; yyxi += 2)
	       ;		/* Epsilon */
	  while(*(yyxi += 2) >= 0) {
	       if (*yyxi == token)
		    break;
	  }
	  if ((yyn = yyxi[1]) < 0) {

	       D(printf("accept\n"));

	       create_yy_ast();

	       YYACCEPT;   /* Ok.  Estado accept */
	  }
     }

     if (yyn == 0) {		/* ¨Se ha producido un error? */
	  switch(errfl) {
	       case 0:   /* En efecto, hay un nuevo error */
		    YYERRORDRV(-1, token);
		    if ((yyn = yypact[yystate]) > YYFLAG && yyn < YYLAST) {
			 register int x;

			 for (x = (yyn > 0) ? yyn : 0; x < YYLAST; ++x) {
			      if (yychk[yyact[x]] == x - yyn &&
					x - yyn != YYERRCODE)
				   YYERRORDRV(-1, x - yyn);
			 }
		    }
		    YYERRORDRV(-1, -1);
yyerrlab:
		    ++errct;

	  case 1:
	  case 2: /* Error aun no recuperado ... Intentarlo de nuevo */
		    errfl = 3;

		    /* Encontrar un estado en el que la acci¢n "shift error" sea correcta */
		    while (yyps >= yys) {
			 yyn = yypact[*yyps] + YYERRCODE;
			 if (yyn >= 0 && yyn < YYLAST &&
					yychk[yyact[yyn]] == YYERRCODE){
			      /* Simular la acci¢n "shift error" */
			      yystate = yyact[yyn];

			      D(printf("shift [error] & goto %d\n", yystate));

			      goto yystack;
			 }
			 yyn = yypact[*yyps];
			 /* El yyps no admite "shift error", desapilar */
			 --yyps;
			 --yypv;

			D(printf("error: despilar estado %d, volviendo a estado %d\n", yyps[1], yyps[0]));
		    }

	    /* Ninguno de los estados en el stack admite "shift error".  Parar */
yyabort:

		    D(printf("PCYACC. Errores en el fuente\n"));

		    create_yy_ast();

		    YYABORT;

	       case 3:  /* A£n no se puede hacer shift en token actual. */
			/* Remendar la entrada. */

		    D(printf("error: desechar el token [%d]\n", token));

		    if (token == 0)	/* ¨ Es el final de la entrada? */
			 goto yyabort;
		    token = -1;
		    goto yynewstate;   /* Volver al mismo estado */
	  }
     }

     /* Reducir la producci¢n 'yyn' */
     if (yytflag && redcnt<YYREDMAX)
       redseq[redcnt++] = yyn;
     yyps -= yyr2[yyn];
     yypvt = yypv;
     yypv -= yyr2[yyn];
     yyval = yypv[1];
     yym = yyn;
     /* Buscar en la tabla de gotos el siguiente estado */
     yyn = yyr1[yyn];
     yyj = yypgo[yyn] + *yyps + 1;
     if (yyj >= YYLAST || yychk[yystate = yyact[yyj]] != -yyn)
	  yystate = yyact[yypgo[yyn]];

     D(printf("reduce %d, vuelta al estado %d, goto %d\n", yym, *yyps, yystate));

     switch (yym) {

     /* Aqu¡ van las acciones sem nticas */

	  
case 17:
# line 103 "parser.y"
{ yyval.tipoPal = T_DIRECCION; } break;
case 19:
# line 106 "parser.y"
{ yyval.tipoPal = T_VERBO; } break;
case 20:
# line 107 "parser.y"
{ yyval.tipoPal = T_ADVERBIO; } break;
case 21:
# line 108 "parser.y"
{ yyval.tipoPal = T_NOMBRE; } break;
case 22:
# line 109 "parser.y"
{ yyval.tipoPal = T_ADJETIVO; } break;
case 23:
# line 110 "parser.y"
{ yyval.tipoPal = T_PREPOSICION; } break;
case 24:
# line 111 "parser.y"
{ yyval.tipoPal = T_CONJUNCION; } break;
case 25:
# line 112 "parser.y"
{ yyval.tipoPal = T_PRONOMBRE; } break;
case 26:
# line 113 "parser.y"
{ yyval.tipoPal = T_NOMBRE_VERBO; } break;
case 27:
# line 114 "parser.y"
{ yyval.tipoPal = T_DIRECCION; } break;
case 28:
# line 118 "parser.y"
{ cadena = yypvt[-0].lex;
				   if (!InsertarVocab(yypvt[-1].tipoPal, yypvt[-0].lex, -1))
					   Error("No hay memoria o palabra ya existente");
				   yyval.tipoPal = yypvt[-1].tipoPal;
				 } break;
case 30:
# line 127 "parser.y"
{ cadena = yypvt[-0].lex;
				 if (!InsertarVocab(yypvt[-2].tipoPal, yypvt[-0].lex, -1))
					 Error("No hay memoria o palabra ya existente");
				 yyval.tipoPal = yypvt[-2].tipoPal;
			   } break;
case 32:
# line 134 "parser.y"
{ yyval.tipoPal = yypvt[-2].tipoPal; } break;
case 33:
# line 135 "parser.y"
{ yyval.tipoPal = yypvt[-5].tipoPal; } break;
case 36:
# line 141 "parser.y"
{ yyval.tipoPal = yypvt[-2].tipoPal; } break;
case 39:
# line 147 "parser.y"
{ if (!InsertarVocab(yypvt[-1].tipoPal, yypvt[-0].lex, CodigoVocab(cadena)))
				 Error("No hay memoria o palabra ya existente");
		   } break;
case 44:
# line 161 "parser.y"
{ if (!InsertarLocalidad(yypvt[-4].valor, yypvt[-2].lex, yypvt[-1].valor, yypvt[-0].conex))
				  Error("No hay memoria o localidad ya existente"); } break;
case 45:
# line 164 "parser.y"
{ if (!InsertarLocalidad(yypvt[-3].valor, yypvt[-1].lex, 0, NULL))
				  Error("No hay memoria o localidad ya existente"); } break;
case 46:
# line 169 "parser.y"
{ int m = gen_mens();
			 InsertarMensaje(m, yypvt[-0].lex); yyval.valor = m; } break;
case 47:
# line 171 "parser.y"
{ yyval.valor = -1; } break;
case 48:
# line 174 "parser.y"
{ yyval.conex = yypvt[-1].conex; } break;
case 49:
# line 175 "parser.y"
{ yyval.conex = NULL; } break;
case 50:
# line 179 "parser.y"
{ CONEXION *p;
					 (yypvt[-2].conex)->siguiente = yypvt[-0].conex;
					 p = yypvt[-0].conex;
					 while (p != NULL && p->direc != (yypvt[-2].conex)->direc)
						p = p->siguiente;
					 if (p != NULL)
						Error("Conexi¢n repetida");
					 yyval.conex = yypvt[-2].conex; } break;
case 51:
# line 187 "parser.y"
{ yyval.conex = yypvt[-0].conex; } break;
case 52:
# line 191 "parser.y"
{ CONEXION *c;
			 if ((c = (CONEXION*) farmalloc((long) sizeof(CONEXION))) == NULL)
				Error("No hay memoria para insertar conexiones");
			 else {
				c->direc = CodigoVocab(yypvt[-2].lex); c->destino = yypvt[-0].valor;
				c->siguiente = NULL; yyval.conex = c;
				printf("AVISO EN LINEA %u:\nSe usan palabras no "
					   "\"direccion\" en conexiones\n", numLinea);
			 }
		   } break;
case 53:
# line 202 "parser.y"
{ CONEXION *c;
			 if ((c = (CONEXION*) farmalloc((long) sizeof(CONEXION))) == NULL)
				Error("No hay memoria para insertar conexiones");
			 else {
				c->direc = CodigoVocab(yypvt[-2].lex); c->destino = yypvt[-0].valor;
				c->siguiente = NULL; yyval.conex = c;
				printf("AVISO EN LINEA %u:\nSe usan palabras no "
					   "\"direccion\"en conexiones\n", numLinea);

			 }
		   } break;
case 54:
# line 214 "parser.y"
{ CONEXION *c;
			 if ((c = (CONEXION*) farmalloc((long) sizeof(CONEXION))) == NULL)
				Error("No hay memoria para insertar conexiones");
			 else {
				c->direc = CodigoVocab(yypvt[-2].lex); c->destino = yypvt[-0].valor;
				c->siguiente = NULL; yyval.conex = c;
			 }
		   } break;
case 61:
# line 237 "parser.y"
{ if (!ExisteLocalidad(yypvt[-1].valor))
					 Error("Localidad inexistente");

				 if (yypvt[-1].valor == ENCIMA && yypvt[-0].tipoObj != T_ROPA)
					 Error("No puede llevarse encima un objeto no-ropa");

				 if (!InsertarObjeto(yypvt[-0].tipoObj, yypvt[-2].valor, CodigoVocab(yypvt[-6].lex),
					 yypvt[-5].valor, yypvt[-4].lex, yypvt[-1].valor, yypvt[-1].valor, -1, -1))
					 Error("No hay memoria u objeto ya existente");
			   } break;
case 62:
# line 248 "parser.y"
{ if (!ExisteLocalidad(yypvt[-2].valor))
					 Error("Localidad inexistente");

				 if (yypvt[-2].valor == ENCIMA && yypvt[-0].tipoObj != T_ROPA)
					 Error("No puede llevarse encima un objeto no-ropa");

				 if (!InsertarObjeto(yypvt[-0].tipoObj, yypvt[-1].valor, CodigoVocab(yypvt[-6].lex),
					 yypvt[-5].valor, yypvt[-4].lex, yypvt[-2].valor, yypvt[-2].valor, -1, -1))
					 Error("No hay memoria u objeto ya existente");
			   } break;
case 63:
# line 260 "parser.y"
{ if (!InsertarObjeto(yypvt[-0].tipoObj, 1, CodigoVocab(yypvt[-3].lex),
					 yypvt[-2].valor, yypvt[-1].lex, NO_CREADO, NO_CREADO, -1, -1))
					 Error("No hay memoria u objeto ya existente");
			   } break;
case 64:
# line 266 "parser.y"
{ yyval.valor = yypvt[-0].valor; } break;
case 65:
# line 267 "parser.y"
{ yyval.valor = 1; } break;
case 66:
# line 270 "parser.y"
{ yyval.valor = yypvt[-0].valor; } break;
case 67:
# line 271 "parser.y"
{ yyval.valor = NO_CREADO; } break;
case 68:
# line 274 "parser.y"
{ yyval.valor = NO_CREADO; } break;
case 69:
# line 275 "parser.y"
{ yyval.valor = ENCIMA; } break;
case 70:
# line 276 "parser.y"
{ yyval.valor = LLEVADO; } break;
case 71:
# line 277 "parser.y"
{ yyval.valor = yypvt[-0].valor; } break;
case 72:
# line 280 "parser.y"
{ yyval.valor = CodigoVocab(yypvt[-0].lex); } break;
case 73:
# line 281 "parser.y"
{ yyval.valor = -1; } break;
case 74:
# line 284 "parser.y"
{ yyval.tipoObj = T_CONTENEDOR; } break;
case 75:
# line 285 "parser.y"
{ yyval.tipoObj = T_ROPA; } break;
case 76:
# line 286 "parser.y"
{ yyval.tipoObj = T_NORMAL; } break;
case 81:
# line 298 "parser.y"
{ if (yypvt[-3].valor >= 0 && yypvt[-3].valor < NUM_SISTEMA) {
				if (!CambiarSistema(yypvt[-3].valor, yypvt[-1].lex))
					Error("No hay memoria o mensaje del sistema ya "
						  "existente");
			} else
				Error("Mensaje de sistema inexistente");
		  } break;
case 82:
# line 308 "parser.y"
{ if (InsertarRespuesta(yypvt[-1].valor, yypvt[-0].valor, despl) == 0)
				  Error("No hay memoria o respuesta ya existe");
			} break;
case 83:
# line 312 "parser.y"
{ AsignaCod(RETSBR, 1); } break;
case 86:
# line 317 "parser.y"
{ yyval.valor = CodigoVocab(yypvt[-0].lex); } break;
case 87:
# line 318 "parser.y"
{ yyval.valor = CodigoVocab(yypvt[-0].lex); } break;
case 88:
# line 319 "parser.y"
{ yyval.valor = CodigoVocab(yypvt[-0].lex); } break;
case 89:
# line 320 "parser.y"
{ yyval.valor = -1; } break;
case 90:
# line 321 "parser.y"
{ yyval.valor = -2; } break;
case 91:
# line 324 "parser.y"
{ yyval.valor = CodigoVocab(yypvt[-0].lex); } break;
case 92:
# line 325 "parser.y"
{ yyval.valor = CodigoVocab(yypvt[-0].lex); } break;
case 93:
# line 326 "parser.y"
{ yyval.valor = CodigoVocab(yypvt[-0].lex); } break;
case 94:
# line 327 "parser.y"
{ yyval.valor = -1; } break;
case 95:
# line 328 "parser.y"
{ yyval.valor = -2; } break;
case 104:
# line 341 "parser.y"
{ Error("Falta el ';' terminador de sentencia"); } break;
case 155:
# line 399 "parser.y"
{ AsignaCod(ALMACENA, 1); } break;
case 156:
# line 401 "parser.y"
{ Error("El operador de asignaci¢n debe ser \":=\" y no "
					 "\"=\""); } break;
case 158:
# line 406 "parser.y"
{ AsignaCod(EMPUJA, 0); AsignaArg(yypvt[-0].valor, 1); } break;
case 159:
# line 410 "parser.y"
{   int n; SUBR *f;
						if ((f = DarSubrutina(yypvt[-1].lex)) == NULL) {
							n = gen_etiq();
							if (InsertarSubrutina(yypvt[-1].lex, -n) == 0)
								Error("No hay memoria");
						} else
							n = abs(DarEtiquetaSubrutina(f));

						AsignaCod(SALTASBR, 0);
						AsignaSig(S_ETIQUETA, 0);
						AsignaArg(n, 1);
					} break;
case 160:
# line 424 "parser.y"
{ AsignaCod('+', 1); } break;
case 161:
# line 425 "parser.y"
{ AsignaCod('-', 1); } break;
case 162:
# line 426 "parser.y"
{ AsignaCod('*', 1); } break;
case 163:
# line 427 "parser.y"
{ AsignaCod('/', 1); } break;
case 164:
# line 428 "parser.y"
{ AsignaCod(C_MODULO, 1); } break;
case 166:
# line 430 "parser.y"
{ AsignaCod(C_MENOSU, 1); } break;
case 168:
# line 432 "parser.y"
{ AsignaCod(CARGA, 1); } break;
case 170:
# line 434 "parser.y"
{ AsignaCod(EMPUJA, 0);
				   AsignaArg(yypvt[-0].valor, 1); } break;
case 171:
# line 437 "parser.y"
{ int n = CodigoObjeto(CodigoVocab(yypvt[-1].lex), yypvt[-0].valor);
		   if (n == -1)
			   Error("El objeto no existe");
		   else {
			   AsignaCod(EMPUJA, 0);
			   AsignaArg(n, 1);
		   }
		 } break;
case 172:
# line 446 "parser.y"
{ AsignaCod(C_OBJETO, 1); } break;
case 173:
# line 448 "parser.y"
{ AsignaCod(C_OBJETO_DEFECTO, 1); } break;
case 174:
# line 449 "parser.y"
{ AsignaCod(C_NOT, 1); } break;
case 175:
# line 450 "parser.y"
{ AsignaCod(C_AND, 1); } break;
case 176:
# line 451 "parser.y"
{ AsignaCod(C_OR, 1); } break;
case 177:
# line 452 "parser.y"
{ AsignaCod(C_MAY, 1); } break;
case 178:
# line 453 "parser.y"
{ AsignaCod(C_MEN, 1); } break;
case 179:
# line 454 "parser.y"
{ AsignaCod(C_MAI, 1); } break;
case 180:
# line 455 "parser.y"
{ AsignaCod(C_MEI, 1); } break;
case 181:
# line 456 "parser.y"
{ AsignaCod(C_EQU, 1); } break;
case 182:
# line 457 "parser.y"
{ AsignaCod(C_NEQ, 1); } break;
case 183:
# line 458 "parser.y"
{ AsignaCod(EMPUJA, 0);
									 AsignaArg(NO_CREADO, 1); } break;
case 184:
# line 460 "parser.y"
{ AsignaCod(EMPUJA, 0);
									 AsignaArg(ENCIMA, 1); } break;
case 185:
# line 462 "parser.y"
{ AsignaCod(EMPUJA, 0);
									 AsignaArg(LLEVADO, 1); } break;
case 186:
# line 464 "parser.y"
{ AsignaCod(C_ESTA, 1); } break;
case 187:
# line 465 "parser.y"
{ AsignaCod(C_ESTAMAY, 1); } break;
case 188:
# line 466 "parser.y"
{ AsignaCod(C_ESTAMEN, 1); } break;
case 189:
# line 467 "parser.y"
{ AsignaCod(C_PRESENTE, 1); } break;
case 190:
# line 468 "parser.y"
{ AsignaCod(C_AUSENTE, 1); } break;
case 191:
# line 469 "parser.y"
{ AsignaCod(C_PUESTO, 1); } break;
case 192:
# line 470 "parser.y"
{ AsignaCod(C_LLEVADO, 1); } break;
case 193:
# line 472 "parser.y"
{ AsignaCod(C_ESTAEN, 1); } break;
case 194:
# line 473 "parser.y"
{ AsignaCod(C_LOCAL, 1); } break;
case 195:
# line 475 "parser.y"
{ AsignaCod(EMPUJA, 0);
		   AsignaArg(CodigoVocab(yypvt[-1].lex), 1);
		   AsignaCod(C_VERB1, 1);
		 } break;
case 196:
# line 480 "parser.y"
{ AsignaCod(EMPUJA, 0);
		   AsignaArg(CodigoVocab(yypvt[-1].lex), 1);
		   AsignaCod(C_NOMB1, 1);
		 } break;
case 197:
# line 485 "parser.y"
{ AsignaCod(EMPUJA, 0);
		   AsignaArg(CodigoVocab(yypvt[-1].lex), 1);
		   AsignaCod(C_ADJET1, 1);
		 } break;
case 198:
# line 490 "parser.y"
{ AsignaCod(EMPUJA, 0);
		   AsignaArg(CodigoVocab(yypvt[-1].lex), 1);
		   AsignaCod(C_ADVERB, 1);
		 } break;
case 199:
# line 495 "parser.y"
{ AsignaCod(EMPUJA, 0);
		   AsignaArg(CodigoVocab(yypvt[-1].lex), 1);
		   AsignaCod(C_PREPOS, 1);
		 } break;
case 200:
# line 500 "parser.y"
{ AsignaCod(EMPUJA, 0);
		   AsignaArg(CodigoVocab(yypvt[-1].lex), 1);
		   AsignaCod(C_NOMB2, 1);
		 } break;
case 201:
# line 505 "parser.y"
{ AsignaCod(EMPUJA, 0);
		   AsignaArg(CodigoVocab(yypvt[-1].lex), 1);
		   AsignaCod(C_ADJET2, 1);
		 } break;
case 202:
# line 510 "parser.y"
{ AsignaCod(EMPUJA, 0);
		   AsignaArg(CodigoVocab(yypvt[-0].lex), 1);
		 } break;
case 203:
# line 514 "parser.y"
{ AsignaCod(EMPUJA, 0);
		   AsignaArg(CodigoVocab(yypvt[-0].lex), 1);
		 } break;
case 204:
# line 518 "parser.y"
{ AsignaCod(EMPUJA, 0);
		   AsignaArg(CodigoVocab(yypvt[-0].lex), 1);
		 } break;
case 205:
# line 521 "parser.y"
{ AsignaCod(C_ACABAR, 1); } break;
case 206:
# line 522 "parser.y"
{ AsignaCod(C_ANALIZA, 1); } break;
case 207:
# line 523 "parser.y"
{ AsignaCod(C_ALEATORIO, 1); } break;
case 208:
# line 525 "parser.y"
{ AsignaCod(C_PRIMERO, 1); } break;
case 209:
# line 527 "parser.y"
{ AsignaCod(C_SIGUIENTE, 1); } break;
case 210:
# line 529 "parser.y"
{ AsignaCod(C_PESO, 1); } break;
case 211:
# line 531 "parser.y"
{ AsignaCod(C_CONTENEDOR, 1); } break;
case 212:
# line 533 "parser.y"
{ AsignaCod(C_DIRECC1, 1);
		 } break;
case 213:
# line 536 "parser.y"
{ AsignaCod(C_ROPA, 1); } break;
case 214:
# line 538 "parser.y"
{ AsignaCod(C_POSX, 1); } break;
case 215:
# line 540 "parser.y"
{ AsignaCod(C_POSY, 1); } break;
case 216:
# line 542 "parser.y"
{ AsignaCod(C_CAMINAR, 1); } break;
case 227:
# line 559 "parser.y"
{ AsignaCod(EMPUJA, 0);
				   AsignaArg(yypvt[-0].valor, 1); } break;
case 228:
# line 563 "parser.y"
{ AsignaCod(RETSBR, 1); } break;
case 229:
# line 569 "parser.y"
{ AsignaCod(SALTA, 0);
			 AsignaArg(yypvt[-5].valor, 1);
			 if (yypvt[-1].linea >= TAM_CODIGO)
				 Error("No hay memoria para generar mas c¢digo");
			 else
				 codigo[yypvt[-1].linea].argumento = despl;
		   } break;
case 231:
# line 583 "parser.y"
{ yyval.linea = despl; } break;
case 232:
# line 586 "parser.y"
{ yyval.linea = despl; AsignaCod(SALTAFALSO, 1); } break;
case 233:
# line 590 "parser.y"
{ if (yypvt[-1].linea >= TAM_CODIGO)
				Error("No hay memoria para generar mas c¢digo");
			else
				codigo[yypvt[-1].linea].argumento = despl; } break;
case 235:
# line 598 "parser.y"
{ yyval.linea = despl;
				 AsignaCod(SALTA, 1);
				 if (yypvt[-2].linea >= TAM_CODIGO)
					 Error("No hay memoria para generar mas c¢digo");
				 else
					 codigo[yypvt[-2].linea].argumento = despl;
			   } break;
case 236:
# line 606 "parser.y"
{ if (yypvt[-1].linea >= TAM_CODIGO)
					 Error("No hay memoria para generar mas c¢digo");
				 else
					 codigo[yypvt[-1].linea].argumento = despl; } break;
case 238:
# line 613 "parser.y"
{ yyval.linea = despl; AsignaCod(SALTAFALSO, 1); } break;
case 239:
# line 618 "parser.y"
{ AsignaCod(RETSBR, 1);
			if (yypvt[-2].linea >= TAM_CODIGO)
				Error("No hay memoria para generar mas c¢digo");
			else
				codigo[yypvt[-2].linea].argumento = despl;
		  } break;
case 240:
# line 625 "parser.y"
{ AsignaEti(siguiente, 0);
			InsertarEtiqueta(siguiente, despl);
		  } break;
case 242:
# line 634 "parser.y"
{ unsigned long n = despl; siguiente = gen_etiq();
				AsignaCod(SALTA, 1);
				eval = despl; yyval.linea = n;
			  } break;
case 245:
# line 645 "parser.y"
{ unsigned long n;
		 AsignaCod(SALTASBR, 0);
		 AsignaArg(eval, 1);
		 AsignaCod(C_EQU, 1);
		 n = despl;
		 AsignaCod(SALTAFALSO, 1);
		 yyval.linea = n;
	   } break;
case 246:
# line 654 "parser.y"
{ AsignaCod(SALTA, 0);
		 AsignaArg(siguiente, 0);
		 AsignaSig(S_ETIQUETA, 1);
		 if (yypvt[-1].linea >= TAM_CODIGO)
			 Error("No hay memoria para generar mas c¢digo");
		 else
			 codigo[yypvt[-1].linea].argumento = despl;
	   } break;
case 249:
# line 668 "parser.y"
{ AsignaCod(A_COGER, 1); } break;
case 250:
# line 671 "parser.y"
{ AsignaCod(A_DEJAR, 1); } break;
case 251:
# line 674 "parser.y"
{ AsignaCod(A_PONER, 1); } break;
case 252:
# line 677 "parser.y"
{ AsignaCod(A_QUITAR, 1); } break;
case 253:
# line 680 "parser.y"
{ AsignaCod(A_CREAR, 1); } break;
case 254:
# line 683 "parser.y"
{ AsignaCod(A_DESTRUIR, 1); } break;
case 255:
# line 686 "parser.y"
{ AsignaCod(A_ACABAR, 1); } break;
case 256:
# line 689 "parser.y"
{ AsignaCod(A_TURNOS, 1); } break;
case 257:
# line 692 "parser.y"
{ AsignaCod(A_HECHO, 1); } break;
case 258:
# line 695 "parser.y"
{ AsignaCod(A_NO_HECHO, 1); } break;
case 259:
# line 699 "parser.y"
{ AsignaCod(A_COLOCAR, 1); } break;
case 261:
# line 704 "parser.y"
{ AsignaCod(A_INTERCAMBIAR, 1); } break;
case 263:
# line 708 "parser.y"
{ AsignaCod(A_METER, 1); } break;
case 265:
# line 712 "parser.y"
{ AsignaCod(A_SACAR, 1); } break;
case 267:
# line 716 "parser.y"
{ AsignaCod(A_AUTOC, 1); } break;
case 268:
# line 719 "parser.y"
{ AsignaCod(A_AUTOD, 1); } break;
case 269:
# line 722 "parser.y"
{ AsignaCod(A_AUTOP, 1); } break;
case 270:
# line 725 "parser.y"
{ AsignaCod(A_AUTOQ, 1); } break;
case 271:
# line 728 "parser.y"
{ AsignaCod(A_AUTOM, 1); } break;
case 272:
# line 731 "parser.y"
{ AsignaCod(A_AUTOS, 1); } break;
case 273:
# line 734 "parser.y"
{ AsignaCod(A_LISTAOBJ, 1); } break;
case 274:
# line 737 "parser.y"
{ AsignaCod(A_LISTADE, 1); } break;
case 275:
# line 740 "parser.y"
{ AsignaCod(A_LISTACONT, 1); } break;
case 276:
# line 743 "parser.y"
{ AsignaCod(A_INVEN, 1); } break;
case 277:
# line 746 "parser.y"
{ AsignaCod(A_MENS, 1); } break;
case 278:
# line 750 "parser.y"
{ int n = BuscarMensaje(yypvt[-0].lex);

		   if (n != -1) {
			   AsignaCod(EMPUJA, 0);
			   AsignaArg(n, 1);
		   } else {
			   n = gen_mens();
			   if (!InsertarMensaje(n, yypvt[-0].lex))
				   Error("No hay memoria para una cadena mas");
			   AsignaCod(EMPUJA, 0);
			   AsignaArg(n, 1);
		   }

		 } break;
case 279:
# line 766 "parser.y"
{ AsignaCod(A_MENSIS, 1); } break;
case 280:
# line 769 "parser.y"
{ AsignaCod(A_IMPRIME, 1); } break;
case 281:
# line 772 "parser.y"
{ AsignaCod(A_DIAG, 1); } break;
case 282:
# line 775 "parser.y"
{ AsignaCod(A_TECLA, 1); } break;
case 283:
# line 778 "parser.y"
{ AsignaCod(A_PAUSA, 1); } break;
case 284:
# line 781 "parser.y"
{ AsignaCod(A_DESCRIBE, 1); } break;
case 285:
# line 784 "parser.y"
{ AsignaCod(A_MUEVE, 1); } break;
case 286:
# line 787 "parser.y"
{ AsignaCod(A_SALVAR, 1); } break;
case 287:
# line 790 "parser.y"
{ AsignaCod(A_CARGAR, 1); } break;
case 288:
# line 793 "parser.y"
{ AsignaCod(A_BORRAR, 1); } break;
case 289:
# line 796 "parser.y"
{ AsignaCod(A_SALIDAS, 1); } break;
case 290:
# line 800 "parser.y"
{ AsignaCod(A_CURSOR, 1); } break;
case 292:
# line 804 "parser.y"
{ AsignaCod(A_SALTOLINEA, 1); } break;
case 293:
# line 808 "parser.y"
{ AsignaCod(A_IMAGEN, 1); } break;
case 294:
# line 810 "parser.y"
{ AsignaCod(A_IMAGEN2, 1); } break;
case 295:
# line 814 "parser.y"
{ AsignaCod(A_SONIDO, 1); } break;
case 296:
# line 816 "parser.y"
{ AsignaCod(A_SONIDO2, 1); } break;
case 297:
# line 820 "parser.y"
{ AsignaCod(A_SILENCIO, 1); } break;
case 298:
# line 824 "parser.y"
{ AsignaCod(A_VENTANA, 1); } break;
case 300:
# line 828 "parser.y"
{ AsignaCod(A_COLOR, 1); } break;
case 301:
# line 831 "parser.y"
{ AsignaCod(A_FONDO, 1); } break;
case 302:
# line 834 "parser.y"
{ AsignaCod(A_FUENTE, 1); } break;
case 303:
# line 838 "parser.y"
{ int n; SUBR *f;
				if ((f = DarSubrutina(yypvt[-0].lex)) == NULL) {
					n = gen_etiq();
					if (InsertarSubrutina(yypvt[-0].lex, n) == 0)
						Error("No hay memoria para insertar subrutina");
				} else {
					n = DarEtiquetaSubrutina(f);
					if (n >= 0)
						Error("Redeclaraci¢n de subrutina");
					else
						FijarEtiquetaSubrutina(f, abs(n));
				}

				InsertarEtiqueta(abs(n), despl);
				AsignaEti(abs(n), 0);
			} break;
case 304:
# line 855 "parser.y"
{ AsignaCod(RETSBR, 1); } break;
case 307:
# line 860 "parser.y"
{ yyerrok; } break;
case 308:
# line 863 "parser.y"
{ yyerrok; } break;
case 309:
# line 866 "parser.y"
{ yyerrok; } break;

     }
     goto yystack;
}
